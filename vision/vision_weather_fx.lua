local function a(b)return b:gsub('..',function(c)return string.char(tonumber(c,16))end)end;local function d(e,f,g,...)if not e then error(string.format(g,...),f)end end;local h={rage={"aimbot","other"},aa={"anti-aimbot angles","fake lag","other"},legit={"weapon type","aimbot","triggerbot","other"},visuals={"player esp","other esp","colored models","effects"},misc={"miscellaneous","settings","lua","other"},skins={"weapon skin","knife options","glove options"},config={"presets","lua"},players={"players","adjustments"},lua={"a","b"}}for i,j in pairs(h)do h[i]={}for k=1,#j do h[i][j[k]]=true end end;local l={}local m={__index=l}function m.__call(n,...)local o={...}if#o==0 then return n:get()end;local p={pcall(n.set,n,unpack(o))}d(p[1],4,p[2])return n end;function l.new(q,i,r,s,...)local t;local u=false;if type(q)=="function"then local v={pcall(q,i,r,s,...)}d(v[1],4,"Cannot create menu item because: %s",v[2])t=v[2]else t=q;u=true end;return setmetatable({tab=i,container=r,name=s,reference=t,visible=true,hidden_value=nil,children={},ui_callback=nil,callbacks={},is_menu_reference=u,getter={callback=nil,data=nil},setter={callback=nil,data=nil},parent_value_or_callback=nil},m)end;function l:set_hidden_value(w)self.hidden_value=w end;function l:set(...)local o={...}if self.setter.callback~=nil then o=self.setter.callback(unpack(o))end;local p={pcall(ui.set,self.reference,unpack(o))}d(p[1],3,"Cannot set values of menu item because: %s",p[2])end;function l:get()if self.visible==false and self.hidden_value~=nil then return self.hidden_value end;local x={ui.get(self.reference)}if self.getter.callback~=nil then return self.getter.callback(x)end;return unpack(x)end;function l:set_setter_callback(y,z)d(type(y)=="function",3,"Cannot set menu item setter callback: argument must be a function.")self.setter.callback=y;self.setter.data=z end;function l:set_getter_callback(y,z)d(type(y)=="function",3,"Cannot set menu item getter callback: argument must be a function.")self.getter.callback=y;self.getter.data=z end;function l:add_children(A,B)if B==nil then B=true end;if getmetatable(A)==m then A={A}end;for C,D in pairs(A)do d(getmetatable(D)==m,3,"Cannot add child to menu item: children must be menu item objects. Make sure you are not trying to parent a UI reference.")d(D.reference~=self.reference,3,"Cannot parent a menu item to iself.")D.parent_value_or_callback=B;self.children[D.reference]=D end;l._process_callbacks(self)end;function l:add_callback(y)d(self.is_menu_reference==false,3,"Cannot add callbacks to built-in menu items.")d(type(y)=="function",3,"Callbacks for menu items must be functions.")table.insert(self.callbacks,y)l._process_callbacks(self)end;function l._process_callbacks(n)local y=function()for C,D in pairs(n.children)do local E;if type(D.parent_value_or_callback)=="function"then E=D.parent_value_or_callback()else E=n:get()==D.parent_value_or_callback end;local F=E==true and n.visible==true;D.visible=F;ui.set_visible(D.reference,F)if D.ui_callback~=nil then D.ui_callback()end end;for k=1,#n.callbacks do n.callbacks[k]()end end;ui.set_callback(n.reference,y)n.ui_callback=y;y()end;local G={}local H={__index=G}function G.new(i,r)G._validate_tab_container(i,r)return setmetatable({tab=i,container=r,children={}},H)end;function G:save_to_db()local I=string.format("%s_%s",self.tab,self.container)for C,n in pairs(self.children)do local J=string.format("%s_%s",I,n.name)local z={n()}database.write(J,z)end end;function G:load_from_db()local I=string.format("%s_%s",self.tab,self.container)for C,n in pairs(self.children)do local J=string.format("%s_%s",I,n.name)local z=database.read(J)if z~=nil then n(unpack(z))end end end;function G:parent_all_to(n,B)local A=self.children;A[n.reference]=nil;n:add_children(A,B)end;function G.reference(i,r,s)G._validate_tab_container(i,r)local K={pcall(ui.reference,i,r,s)}d(K[1],3,"Cannot reference Gamesense menu item because: %s",K[2])local L={select(2,unpack(K))}local M={}for k=1,#L do table.insert(M,l.new(L[k],i,r,s))end;return unpack(M)end;function G:checkbox(s)return self:_create_item(ui.new_checkbox,s)end;function G:slider(s,N,O,P,Q,R,S,T)if type(P)=="table"then local U=P;P=U.default;Q=U.show_tooltip;R=U.unit;S=U.scale;T=U.tooltips end;P=P or nil;Q=Q or true;R=R or nil;S=S or 1;T=T or nil;d(type(N)=="number",3,"Slider min value must be a number.")d(type(O)=="number",3,"Slider max value must be a number.")d(N<O,3,"Slider min value must be below the max value.")if P~=nil then d(P>=N and P<=O,3,"Slider default must be between min and max values.")end;return self:_create_item(ui.new_slider,s,N,O,P,Q,R,S,T)end;function G:combobox(s,...)local o={...}if type(o[1])=="table"then o=o[1]end;return self:_create_item(ui.new_combobox,s,o)end;function G:multiselect(s,...)local o={...}if type(o[1])=="table"then o=o[1]end;return self:_create_item(ui.new_multiselect,s,o)end;function G:hotkey(s,V)if V==nil then V=false end;d(type(V)=="boolean",3,"Hotkey inline argument must be a boolean.")return self:_create_item(ui.new_hotkey,s,V)end;function G:button(s,y)d(type(y)=="function",3,"Cannot set button callback because the callback argument must be a function.")return self:_create_item(ui.new_button,s,y)end;function G:color_picker(s,W,X,Y,Z)W=W or 255;X=X or 255;Y=Y or 255;Z=Z or 255;d(type(W)=="number"and W>=0 and W<=255,3,"Cannot set color picker red channel value. It must be between 0 and 255.")d(type(X)=="number"and X>=0 and X<=255,3,"Cannot set color picker green channel value. It must be between 0 and 255.")d(type(Y)=="number"and Y>=0 and Y<=255,3,"Cannot set color picker blue channel value. It must be between 0 and 255.")d(type(Z)=="number"and Z>=0 and Z<=255,3,"Cannot set color picker alpha channel value. It must be between 0 and 255.")return self:_create_item(ui.new_color_picker,s,W,X,Y,Z)end;function G:textbox(s)return self:_create_item(ui.new_textbox,s)end;function G:listbox(s,...)local o={...}if type(o[1])=="table"then o=o[1]end;local n=self:_create_item(ui.new_listbox,s,o)n:set_getter_callback(function(x)return n.getter.data[x+1]end,o)return n end;function G:label(s)d(type(s)=="string","Label name must be a string.")return self:_create_item(ui.new_label,s)end;function G:_create_item(q,s,...)d(type(s)=="string"and s~="",3,"Cannot create menu item: name must be a non-empty string.")local n=l.new(q,self.tab,self.container,s,...)self.children[n.reference]=n;return n end;function G._validate_tab_container(i,r)d(type(i)=="string"and i~="",4,"Cannot create menu manager: tab name must be a non-empty string.")d(type(r)=="string"and r~="",4,"Cannot create menu manager: tab name must be a non-empty string.")i=i:lower()d(h[i]~=nil,4,"Cannot create menu manager: tab name does not exist.")d(h[i][r:lower()]~=nil,4,"Cannot create menu manager: container name does not exist.")end;local _=package.vel_hook("havoc weather")local a0={}local a1={__index=a0}local function a2(a3,a4)return a0.new(a3,a4)end;function a0.new(a3)return setmetatable({sky_z=a3},a1)end;local a5={}local a6={__index=a5}function a5.new()return setmetatable({current=nil,default=a2(1000),boundaries={["de_dust2"]=a2(710),["de_mirage"]=a2(1200),["de_mirage_scrimmagemap"]=a2(1200),["de_inferno"]=a2(570),["de_vertigo"]=a2(12800),["de_cbble"]=a2(1200),["de_cache"]=a2(2400),["de_train"]=a2(1000),["de_overpass"]=a2(1000),["de_nuke"]=a2(700),["de_canals"]=a2(1000),["cs_agency"]=a2(1000),["cs_office"]=a2(650),["cs_italy"]=a2(840),["cs_assault"]=a2(630),["workshop/141243798/aim_ag_texture2"]=a2(1000)}},a6)end;function a5:sync()local a7=globals.mapname()if self.boundaries[a7]~=nil then self.current=self.boundaries[a7]else self.current=self.default end end;local a8={}local a9={__index=a8}function a8.new()return setmetatable({shader=_.shader.rgb(220,220,220,200),max_snowflakes=2048,sticky=false,speed=1,density=1,radius=1000,texture=renderer.load_png(a("89504E470D0A1A0A0000000D4948445200000020000000200806000000737A7AF4000000097048597300000B1300000B1301009A9C18000005B869545874584D4C3A636F6D2E61646F62652E786D7000000000003C3F787061636B657420626567696E3D22EFBBBF222069643D2257354D304D7043656869487A7265537A4E54637A6B633964223F3E203C783A786D706D65746120786D6C6E733A783D2261646F62653A6E733A6D6574612F2220783A786D70746B3D2241646F626520584D5020436F726520352E362D633134322037392E3136303932342C20323031372F30372F31332D30313A30363A33392020202020202020223E203C7264663A52444620786D6C6E733A7264663D22687474703A2F2F7777772E77332E6F72672F313939392F30322F32322D7264662D73796E7461782D6E7323223E203C7264663A4465736372697074696F6E207264663A61626F75743D222220786D6C6E733A786D703D22687474703A2F2F6E732E61646F62652E636F6D2F7861702F312E302F2220786D6C6E733A786D704D4D3D22687474703A2F2F6E732E61646F62652E636F6D2F7861702F312E302F6D6D2F2220786D6C6E733A73744576743D22687474703A2F2F6E732E61646F62652E636F6D2F7861702F312E302F73547970652F5265736F757263654576656E74232220786D6C6E733A64633D22687474703A2F2F7075726C2E6F72672F64632F656C656D656E74732F312E312F2220786D6C6E733A70686F746F73686F703D22687474703A2F2F6E732E61646F62652E636F6D2F70686F746F73686F702F312E302F2220786D703A43726561746F72546F6F6C3D2241646F62652050686F746F73686F702043432032303138202857696E646F7773292220786D703A437265617465446174653D22323032302D30322D32315431343A31343A30325A2220786D703A4D65746164617461446174653D22323032302D30322D32315431343A31343A30325A2220786D703A4D6F64696679446174653D22323032302D30322D32315431343A31343A30325A2220786D704D4D3A496E7374616E636549443D22786D702E6969643A30306161336432652D613865362D346134662D383934382D6539303737306465663930642220786D704D4D3A446F63756D656E7449443D2261646F62653A646F6369643A70686F746F73686F703A34626131363065372D623332372D323034632D383162332D6266616139313135646332382220786D704D4D3A4F726967696E616C446F63756D656E7449443D22786D702E6469643A35666235316332612D626661642D363334332D393536662D373461653835613633633531222064633A666F726D61743D22696D6167652F706E67222070686F746F73686F703A436F6C6F724D6F64653D2233223E203C786D704D4D3A486973746F72793E203C7264663A5365713E203C7264663A6C692073744576743A616374696F6E3D2263726561746564222073744576743A696E7374616E636549443D22786D702E6969643A35666235316332612D626661642D363334332D393536662D373461653835613633633531222073744576743A7768656E3D22323032302D30322D32315431343A31343A30325A222073744576743A736F6674776172654167656E743D2241646F62652050686F746F73686F702043432032303138202857696E646F777329222F3E203C7264663A6C692073744576743A616374696F6E3D227361766564222073744576743A696E7374616E636549443D22786D702E6969643A30306161336432652D613865362D346134662D383934382D653930373730646566393064222073744576743A7768656E3D22323032302D30322D32315431343A31343A30325A222073744576743A736F6674776172654167656E743D2241646F62652050686F746F73686F702043432032303138202857696E646F777329222073744576743A6368616E6765643D222F222F3E203C2F7264663A5365713E203C2F786D704D4D3A486973746F72793E203C2F7264663A4465736372697074696F6E3E203C2F7264663A5244463E203C2F783A786D706D6574613E203C3F787061636B657420656E643D2272223F3E6C771F590000039C4944415458857D97DB6EE34610440F4949966427B0B38B0DF2FFDF9687204836F6AE645D28310F532516C794090C78999EAEEA9EBE0C9B611898B99AEAB9D33DC7005C35E6945866A8E627B28B3B0B9B785E68B47A6F43F60A5C80FE0E09349F649A94AD09CC81AF281E48F64D7CBB4AAE9FD193E0E92D630C8B6A01715F000F15C94B05D26ADE6017115BE8DE03A718267CDB969AC010CFE9FA7BFBDCC558486609AC818DF4EC8157E00DD801E75460F6B6BA0D651B8AFB3390AE61F95263254FADE3DB167892DC0FCD77D23121610209BE14F8B316DA43197C26B910F03648747A5E89700B1C04DAC7B8024D6E81C197C0AFC03759B1128095276107A9EF4BA601E7BDB7CC56644EF66A6E81493C48F05924BE00BF01BF842B1D2F4EC19B45FA7E1450236FD6DBF32E129318B05B2DF40CFC01FC2E12CF2261AFD8C29F1ABBCAE256641E34325E9CDA7DBD0526B011E837013FEAFE157891458D2CDF5302ED2DC681317BDE436F578DBE4EC356632DA01779C304BEE8DDCA0679E4451EF80EFC2D12C81B75A66521BAE579CB94C446EEF6FE3D5102D3E06D28EA98A6AF951F98A65FD6915B45AC83D0D67F95C54EB1273DCFF50E18EBC26380ED80FFB426ABDF4045808AC0A3ACB7A5DEAFEC90F565EBBCFE0AFC139EB2D56E5E177F4F0104B4D6B713A5789CF5DC33F682B9B29C8D6A4BD93E181B92091C18BBE7AD195DC3824E8B8E1ACB20602559156B1203633372ADF0FD1C046E8019206D2C3C31160C77352BFBEC2062B00BA3CB2DB79351FE36D441E54AD60B7C4389E4BD166F6445C6CCDC29C9D5D0E48FD2B7D7FA0F41E88526E105EF942D78A554AF0B63DBB5AC53D1BD04C9FD4B295006AEC12194D5EDF64829AF0F8CDB74151103A46B5DE9DC824FC09F944C781378069FAF2109B8B1D86D6F017ED216B807F4B2C6444CC27DE20CFC45A9038E23EBCD986B6A02B6FC49EF07016F9946B6099CB46610F0637875C71874E79033F8E448E668DD53F66ECDD8705E194B2A8C4DC635C256B9DDBA2A129EF329C8D973BBCCD685E24869282B79A1AB1664B4F733734E631FE77AC6F3E025E46FC7F3DC027BE19D123C277901226FF998E70647962F6488097C9767538749906968A0462EF381631932067520E631DD043A8ABB3B4A0CFD642C6235099AF835CBE29279ED54AC49641A7A6E113A06C640CDEA99DB36CC11A8C9F8CCE0EFA9A42690E0931F9099F759027987B1D4D6F39FFD74D61DD6E035E10F049248DDFBE7BECD593F37F7E9FBDC09E7DE5FEE674A9B99F97BD744EE7F21E2A5CE065149E30000000049454E44AE426082"),32,32)},a9)end;function a8:render(aa)if _.hook.total_alive>self.max_snowflakes then _.hook:cull()end;if aa==nil then return end;local ab=client.random_int(self.density,40)if ab>self.density then return end;for C=1,self.density do local ac=_.shared.player_camera_position+_.vector(client.random_float(-self.radius,self.radius),client.random_float(-self.radius,self.radius),client.random_float(-self.radius,self.radius)/2)local ad=_.vector(ac.x,ac.y,aa.sky_z)local ae=ad:trace_line_to(ac)if ae==1 then local af=_:create()local ag=client.random_int(8,22)af.origin=ac;af.shader=self.shader:clone()af.type="texture"af.texture=self.texture;af.width=ag;af.height=ag;af.fade_time=2;af.landed=false;af.landing_vector=_.vector(0,0,0)af.floating_vector=_.vector(0,0,-0.25)af.floating_timer=_.timer_tick(true,{adjust_after=client.random_int(16,32)})local ah=af.origin:clone_offset(0,0,-32768)local ai=af.origin:trace_line_to(ah)af.impact_z=af.origin.z-32768*ai+1;af.shader.a=0;af.target_alpha=100;af.on_frame=function()if af.origin.z<=af.impact_z then if self.sticky==true then local ah=af.origin:clone_offset(0,0,-32768)local ai=af.origin:trace_line_to(ah)af.origin.z=af.origin.z-32768*ai+1;af.landed=true;af:kill()else af:kill()end end;af.shader.a=af.shader.a+(af.target_alpha-af.shader.a)*0.02*_.simulation.delta;if af.relation_camera_distance>self.radius then af.fade_time=0.25;af:kill()end;if af.landed==true and af.occluded==true then af.dead=true;return end;af.floating_timer:event(af.floating_timer.adjust_after,function(aj)af.floating_vector(client.random_float(-0.1,0.1),client.random_float(-0.1,0.1),client.random_float(-0.33,-0.45))aj:restart()end)if af.landed==false then af.origin=af.origin+af.floating_vector*self.speed*_.simulation.delta end end end end end;local ak={}local al={__index=ak}function ak.new()return setmetatable({shader=_.shader.rgb(220,220,220,200),max_droplets=2048,splash=false,storm=false,speed=1,density=1,radius=1000,texture=renderer.load_png(a("89504E470D0A1A0A0000000D4948445200000020000000200806000000737A7AF4000000097048597300000B1300000B1301009A9C18000005B869545874584D4C3A636F6D2E61646F62652E786D7000000000003C3F787061636B657420626567696E3D22EFBBBF222069643D2257354D304D7043656869487A7265537A4E54637A6B633964223F3E203C783A786D706D65746120786D6C6E733A783D2261646F62653A6E733A6D6574612F2220783A786D70746B3D2241646F626520584D5020436F726520352E362D633134322037392E3136303932342C20323031372F30372F31332D30313A30363A33392020202020202020223E203C7264663A52444620786D6C6E733A7264663D22687474703A2F2F7777772E77332E6F72672F313939392F30322F32322D7264662D73796E7461782D6E7323223E203C7264663A4465736372697074696F6E207264663A61626F75743D222220786D6C6E733A786D703D22687474703A2F2F6E732E61646F62652E636F6D2F7861702F312E302F2220786D6C6E733A786D704D4D3D22687474703A2F2F6E732E61646F62652E636F6D2F7861702F312E302F6D6D2F2220786D6C6E733A73744576743D22687474703A2F2F6E732E61646F62652E636F6D2F7861702F312E302F73547970652F5265736F757263654576656E74232220786D6C6E733A64633D22687474703A2F2F7075726C2E6F72672F64632F656C656D656E74732F312E312F2220786D6C6E733A70686F746F73686F703D22687474703A2F2F6E732E61646F62652E636F6D2F70686F746F73686F702F312E302F2220786D703A43726561746F72546F6F6C3D2241646F62652050686F746F73686F702043432032303138202857696E646F7773292220786D703A437265617465446174653D22323032302D30322D32315431363A31323A35365A2220786D703A4D65746164617461446174653D22323032302D30322D32315431363A31323A35365A2220786D703A4D6F64696679446174653D22323032302D30322D32315431363A31323A35365A2220786D704D4D3A496E7374616E636549443D22786D702E6969643A38613834393765352D626166362D303834622D393137312D6230666565383737343963382220786D704D4D3A446F63756D656E7449443D2261646F62653A646F6369643A70686F746F73686F703A38636461633430622D626639332D363434372D383831622D3762326361666562376664302220786D704D4D3A4F726967696E616C446F63756D656E7449443D22786D702E6469643A37376131653737312D653832332D303734302D383831332D363030326433333230336561222064633A666F726D61743D22696D6167652F706E67222070686F746F73686F703A436F6C6F724D6F64653D2233223E203C786D704D4D3A486973746F72793E203C7264663A5365713E203C7264663A6C692073744576743A616374696F6E3D2263726561746564222073744576743A696E7374616E636549443D22786D702E6969643A37376131653737312D653832332D303734302D383831332D363030326433333230336561222073744576743A7768656E3D22323032302D30322D32315431363A31323A35365A222073744576743A736F6674776172654167656E743D2241646F62652050686F746F73686F702043432032303138202857696E646F777329222F3E203C7264663A6C692073744576743A616374696F6E3D227361766564222073744576743A696E7374616E636549443D22786D702E6969643A38613834393765352D626166362D303834622D393137312D623066656538373734396338222073744576743A7768656E3D22323032302D30322D32315431363A31323A35365A222073744576743A736F6674776172654167656E743D2241646F62652050686F746F73686F702043432032303138202857696E646F777329222073744576743A6368616E6765643D222F222F3E203C2F7264663A5365713E203C2F786D704D4D3A486973746F72793E203C2F7264663A4465736372697074696F6E3E203C2F7264663A5244463E203C2F783A786D706D6574613E203C3F787061636B657420656E643D2272223F3ED197373F00000389494441545885AD97E98B134110C57F994CB29BF5BE454444C1F38320827FBF20E80741BC581014F15A4557DC5537D766C60F55CFAE4C3A876843339D9EE9AE57AF5E55775A755DB3626B79D7B808EFEA4C5FA9957F69BC05B4432F80891B9C00953F05EABF0090E102E8021BC0217F96C010F8E57D08EC7BAF5601B12A8002E80167814BC079E000C6C208F802BC013E00BBC1F05210AD251A10E56BC065E0B683D8F039E960047C0636BDEF02035258E61A59C640E1002E007781336EBC0774FC5D0DAC3BA09E1BDCF4F9214B44B908408131701CF3FCA41BE8B9C192941513FFFE347007D3C36B7F17C3B1320009AF0B5C07CEB951795A329D96ED303E85B13500DE93B224CBC422000546F95537DC73E31D123BF17BEDB78E89F42EA68D2D920E66F4900320CFD6816B58CAC9F36EC3DBB859B3305D02F680FBC0986926B28B9ADE9FF24D1473C5BD9DE9DA47A2ED3AE02BC04D52CAC6B0651988DE5F74EF253CD1DF6E782A6AE5A1DA1A56906E605AF89563211782C2115F08C6957A62208660127AC574EEAF0187B1506E619A986A3906DAC0112CFDD68371E57E1460158CAA046B8C8FBB98288F61056AE2EBEB268078D81C6D78AFCAD74C3FD129060462ECDF08C0012CA3DEADC280EAFE5AA337BD97F06ADFA772C30A53E1731DEF27984DDFB91A101325497851C54D35D70DA302B7EF0C94CE42172B50D910105E8CFC593450B7C25CD31B1956C9AD9D919839029ECD82582E7F3A882ACCC968AC05310C311B34370AA075304547B321A8801FC0374CBD15D30255A169C65AE21B07C07A5F033B195B330094567DEC827185945A02D0710002D12209509EC530D4BEDF57DF6B612112957DE02D563C8E010749421300658680B7C2FA71188FB09BD2B7E0E09FD63C0B847EDF17BCC0A81B908A8BA82DE73C239021567C5E6207D30C03B9C34874F68157C0334C134392C09A47712C4C72A08F89F939C6669FD9F3222B42A1DF03B681A75859D671DCC5A82F49028CE578E46B777CED131F8F03032B01C03DD8021EB861D12F9A551D2B2C4C3F81EFD82DF909F0D0D7EF916ACB549B7723129523DFF02D70CF8DDC726F0E926EC6637FB78309EE31F008F8E873732FA78B2EA5AA647BFE7BE2463E61D7B473D87D41FF0DBE63A9BB895D48B77D6EC082ABF9B2FF059068EF615E1FC56EC84ACF0860DBFB2E26BA3E4BAEE5AB0050EB90727F23FC96810189B1217362FE2F002095E29214BE588A15B6FDECEAFF002002C9B5C99CF9B9ED370E884DE1503DBCF60000000049454E44AE426082"),32,32),texture_splash=renderer.load_png(a("89504E470D0A1A0A0000000D4948445200000040000000400806000000AA6971DE000000097048597300000B1300000B1301009A9C18000005B869545874584D4C3A636F6D2E61646F62652E786D7000000000003C3F787061636B657420626567696E3D22EFBBBF222069643D2257354D304D7043656869487A7265537A4E54637A6B633964223F3E203C783A786D706D65746120786D6C6E733A783D2261646F62653A6E733A6D6574612F2220783A786D70746B3D2241646F626520584D5020436F726520352E362D633134322037392E3136303932342C20323031372F30372F31332D30313A30363A33392020202020202020223E203C7264663A52444620786D6C6E733A7264663D22687474703A2F2F7777772E77332E6F72672F313939392F30322F32322D7264662D73796E7461782D6E7323223E203C7264663A4465736372697074696F6E207264663A61626F75743D222220786D6C6E733A786D703D22687474703A2F2F6E732E61646F62652E636F6D2F7861702F312E302F2220786D6C6E733A786D704D4D3D22687474703A2F2F6E732E61646F62652E636F6D2F7861702F312E302F6D6D2F2220786D6C6E733A73744576743D22687474703A2F2F6E732E61646F62652E636F6D2F7861702F312E302F73547970652F5265736F757263654576656E74232220786D6C6E733A64633D22687474703A2F2F7075726C2E6F72672F64632F656C656D656E74732F312E312F2220786D6C6E733A70686F746F73686F703D22687474703A2F2F6E732E61646F62652E636F6D2F70686F746F73686F702F312E302F2220786D703A43726561746F72546F6F6C3D2241646F62652050686F746F73686F702043432032303138202857696E646F7773292220786D703A437265617465446174653D22323032302D30322D32315431363A33343A32325A2220786D703A4D65746164617461446174653D22323032302D30322D32315431363A33343A32325A2220786D703A4D6F64696679446174653D22323032302D30322D32315431363A33343A32325A2220786D704D4D3A496E7374616E636549443D22786D702E6969643A32313430303431662D356135382D633834382D613631382D3237623139613935303866382220786D704D4D3A446F63756D656E7449443D2261646F62653A646F6369643A70686F746F73686F703A62323963346530652D396132642D396434632D396539622D3366623163343131363730612220786D704D4D3A4F726967696E616C446F63756D656E7449443D22786D702E6469643A65353562643366612D646239612D626434372D613766372D626666613330623766666332222064633A666F726D61743D22696D6167652F706E67222070686F746F73686F703A436F6C6F724D6F64653D2233223E203C786D704D4D3A486973746F72793E203C7264663A5365713E203C7264663A6C692073744576743A616374696F6E3D2263726561746564222073744576743A696E7374616E636549443D22786D702E6969643A65353562643366612D646239612D626434372D613766372D626666613330623766666332222073744576743A7768656E3D22323032302D30322D32315431363A33343A32325A222073744576743A736F6674776172654167656E743D2241646F62652050686F746F73686F702043432032303138202857696E646F777329222F3E203C7264663A6C692073744576743A616374696F6E3D227361766564222073744576743A696E7374616E636549443D22786D702E6969643A32313430303431662D356135382D633834382D613631382D323762313961393530386638222073744576743A7768656E3D22323032302D30322D32315431363A33343A32325A222073744576743A736F6674776172654167656E743D2241646F62652050686F746F73686F702043432032303138202857696E646F777329222073744576743A6368616E6765643D222F222F3E203C2F7264663A5365713E203C2F786D704D4D3A486973746F72793E203C2F7264663A4465736372697074696F6E3E203C2F7264663A5244463E203C2F783A786D706D6574613E203C3F787061636B657420656E643D2272223F3E24463DFA00000A1A49444154789CED9B4B931BC7118413AF5DEC4B222D4B21877DB0C3FFFFB7F8AEA342175B266592E22EB00B0C7CE8FAB6B36B7A805598340E62474C0C76D0D35D9595F56A90B3C3E1A0DFF3989F5B80738F2F009C5B80738F2F009C5B80738F2F009C5B80738F2F009C5B80738FDF3D00CBCFB0E66CE279AFE6CE73FFEF75F9A70460D6F97C9878360552EFBDCF3A669FA8199AA57B1E539B9C52F8B303F12918E0CAFBE5C21F34ED0207D55894E7E5755E2A8BEF7B74FCAF00B8F273FB3B07D783A4C1049A6BAC3877E6FA1EA714996220EF4EBEFF5B01E851DC959FDBC540005764D69923B5203908A7E471E601AE2B3E09C44B0198525C1A2BBF501F80855A4BCF357693998AE283C68065E15D79F65CD8F383A4BDADE7FB3C8F97009051CECFA6ACEF735C719E0F9D39EE22CE86299998BB9074197780DEDBB55305033924FD3606B8A2F9B95B73B0EF5C49369E759E3940AEE02916B0F74A05800BB5000C929E246D55400088E7BD4E0130B73BF45AD8F739F77B00EBE57B0F7C53236792AC7866E14245F1B50A081803EAAFE2D9D6DE01A0C33100DCC7FDCA11DF237783AEA669EECAF552616648968981EF2F43F955DA47F11DC6039C3D32BFC405D8C0FDDBFD9C057BA3A78883C09C0CE8A0D6ADA698806CB8C03CC9B28A0BD6B2E6A34EB880A714689F534C56205BD69575257A8AFB1A598EDEDF9E6D16F6B997EE566AE5D9DB9CDD4B5D60A60216966110709C0928742C0066803D76E422E8987C3093BBEFE577408229CF31E21800F8251B788A41002CE0BE9FD39EB323E7EA5ED19219E60A4F819899335576C36664989D62C0422D7A59509E43330422200E1ABB80B3466A15CD2ED4AB21DCF7310C167560F71A83CA7806E1140019842CD05225FDF0FD53CCD985405E8038A310D653965B55B6C7C1DE95C60064DFF7CA6FE83C63DD4906E4E0E72EB04C9B918397A1AC67899D29E491D9D329B122C712D9775E58F17E0E7C5201DFEF0AB9A804B97CCD511DE05658C50217F1F9226DE896CBE530C3B3C790E6B8D573B597FDDCC159A8CF4A674066D74E6310468590FB9D47CC8BB8433984D9D95C8F115EA1796DAFA4B407AF1C5C5D6907CB1527FFE7F77D1F62C15E8519F9F3900120B55CC67515176C98DBA20C82E08DFAD5E04CB5F0C8A9AE67654FA1288F82280E33BDC061DD2C5F6E8C9E5499F0CC002F47E7B1F8B5A45BDBC885F4F2D2CBD041D2261647B0BD6AAA04845E60935A2AF3DC0F4FB03AAC5C18580E9483E2DDE0A3522C700678CEBF08E56F0CE51CCD5DF04135E03441C6BE47084044303E63B51CECDC4DBCF5BDB2BD9CEABCE37D81EFEFD74054771088EC572A29CE2B3CA5BFF93C84504E2F170AC53C306500A178AF46C0FF61DB75C88862BE3E7A7840F654E84C6C825ADE88F4D6BC60CA7BDFEDAC60DE4EE3E2833D006D66EF23A8BBA3ECBE5431CAA5A4BB586FA31A27646BED356EA6DC58DD34E829EA4AD25771DFAAF8CE46C5C250CE11F540B6EA80E6A931BB48CFE23091B5884B4B15EB5FA9D6243080C30FA982EF4CED1E8BF50AA1A55D9736790820F6AAFEF5A83662D37ACE544F61B2C51F6D2F773F7CDC031ECF00601DCA03060AAF92D2CE0A1FEE7A870C008A7A9E64518AA007B5810936902601CD69CB203B50327B9384353DB87AF6212E916DD66AA33E3588376CBD33C551E384805E457186F6A036DDDCABB518F44748D075C1519840B831C173DB9B81200EF1FC4A35355FAA329298451F020004620F86B9D7183180A8FD10D7372A686FD5162252EBFB5EDBE7392B8D0F252F54D9E5C50CE0CD6D1D800000AAD37B55EAEFD2FA80A600C9D9C598650010F8295EDAC6465E58E00A87F81E9FA71A5CABB51A96FC3500DD98C230008B61E5B55A6AE36254A4C4945CE878FAF560FAA4B67043F96E0C20AF0200C1C4EB0347125FC52A44682C7BAD6A95B58AD53C45A138BE7B1BEF38E8346607559A03E02E9E7977CAC577CE4EE9880B301C042F5B3D4D52E4CC55AB32CE06F0E35B9554FA2EE6C00E2F750755DA3B03FC470CACE5054F6ED9798E4C7EF899DBEF0684A9039147156B3DAA46783A2F504581B5DAD3575CE246A560B9B7EFBCB0F2D27565FBE03E5856AA75BC9F4778A6401E82E226299A83E1F3C800E006A4BC7B9540486BEC822108E078EF8F3B385DBD9D252BF04E3E5663AE57787BB5A740B00F0571BD7B5577E15D6749370DCA2630E951D21B49DF8570772AD6A62AE41468616B2118D6CCBF12B9153CF8E5F8E225BA579399F2B06F21E98FF1CE1B55236D553311EC694038752AFC93A4BFDACB37269C1F92621D365AC7DC07038436165FCE00486D0A23CFF39C0AD12BC5755CB72A86C2551EE2BD5580B1521B789FC71400B8C22640F8BB6A0ABB50419677E90FFCDCF0328482211CB000508EF2043D5C83FC0EB083EDB133402F555CF40F925EC7BABFC6A500C2DD8678F1DC801DFB6548B1E93F257DAFE2D300E0940559F23FFE483487AA7EB6E8D520B47F527BB099B340CE48CB00F91B0341927E0E59F7AAC1D09BB3E6A8BE7724E6A90216BC95F4B501E6399C792B7B4F2AC1E841B59BDCD93B589EF4E8458C778B588D20EABF035EABB6C5F41F39DAE31254A2B9F53ECA0094DC49FA45D29F54ADE7C5898387D07B49FF96F441D247BB3C8350DD512C7947475C21F3C0943B95DAE246C520CE2CAF157027FA1A0C9019F0E27F20F13140C0CF39FF736A2D6CFEBBD8FC7D5C1F43103F15BE92F42AEE7E62EB20905261CE9D6A36E2C076AD36C079254BC60200FF61F42800078D177C1B9B7BA383E07EDAC2465B55CB7B2B0C536870A0EF6073A0AE779A9E1DBC9374B7F1633AB73E4775F9ACB20B8017395877AF42E70F2A14ECC50B9446591A20ACC17E5E2D7AE7E73D0765382E83E0AC7308E03EA8A65352E33CF6DFA836600EC0D134E8CA4BAD2F6D54A8FD75087FAD36806DED7D3A4A0F7EBE270D14C18C96D52B44AFE0FCD71DFEFEA89A16E95C893F43527E14FCA600C860402D3A2B7CFB4A25EDBC32657F515BB030BC7A5BABB8D14A05C8D701C0569531B275908F1AC0CFFDEEE3BE8BCF1C9951083DA8753F6FB0BA00B8F5B30B1007EE55F2EC9F5522F177F1EE077B871E9C135B7CF22200E344E74EF5C0E59D09896BF9AF515BD5DA833D38779CA9E6FB57F1F97D007AAF5A5F781DD105C0477601A9FAD5BF54AAC3BFC44501443F0E1539D18545372AF1E356B5F5F5361A1F86FAACC5418B1F99C9D6262EAC542CFEB34A3F400AA61FE88EA918E07F135DF1BF77927E0885D62A4D08F97AAD36AFFB2F37D4EC37AAE9CD0B1E3ABB0B559A13673C2B11937017C6A38AD57F54C958EF5553E028FF4F01A0CE24367DB4BFDF48FA870AC27F53B1EC526DE0F3DF181671E7C4C7031E41F252B5F627357E1580B0E683DAFA8377B72A31E86DDCFFA3EAFFA3DCEF63EAFF0B787ACB2741A4322CFA5AD2B7AA960271FF199BAE8DA80F3B9E548FC989E65E0841792F68B6AA391ECB6EE2EFFBB87B3ACE3FD2BC0880291088E8E46BFC94084C4E3ED81C82199F09705EBC60552A41A9B59CD7043BFB7BB0EF0F36C74BDF49E54F01D003219FD86476E4F337BECFEDA8FF2822B59560562ADF65F386F47DFEAC63CA4BD27F0114056BB4984CEE060000000049454E44AE426082"),64,64),sound_indoors="ambient/weather/aztec_int_rain_lp_01.wav",sound_indoors_length=5,sound_outdoors="ambient/weather/aztec_rain_lp_01.wav",sound_outdoors_length=2,sound_state=nil,sound_timer=_.timer_standard(true),storm_timer=_.timer_standard(true),storm_interval=client.random_int(10,70),storm_sounds={"ambient/weather/thunderstorm/lightning_strike_1.wav","ambient/weather/thunderstorm/lightning_strike_2.wav","ambient/weather/thunderstorm/lightning_strike_3.wav","ambient/weather/thunderstorm/lightning_strike_4.wav","ambient/weather/thunderstorm/thunder_1.wav","ambient/weather/thunderstorm/thunder_2.wav","ambient/weather/thunderstorm/thunder_3.wav","ambient/weather/thunderstorm/thunder_far_away_1.wav","ambient/weather/thunderstorm/thunder_far_away_2.wav","ambient/weather/thunder_distant_03.wav","ambient/weather/thunder_distant_04.wav","ambient/weather/thunder_distant_05.wav"}},al)end;function ak:render(aa)if _.hook.total_alive>self.max_droplets then _.hook:cull()end;if aa==nil then return end;self.storm_timer:event(self.storm_interval,function()self.storm_timer:restart()self.storm_interval=client.random_int(10,70)client.exec(string.format("playvol %s 1",self.storm_sounds[client.random_int(1,#self.storm_sounds)]))end)local am=_.shared.player_origin:clone()am.z=aa.sky_z;local an=_.shared.player_origin:trace_line_to(am,_.shared.observer_eid)==1 and 1 or 0;local ao=false;if an~=self.sound_state then ao=true end;self.sound_state=an;local ap;local aq;if self.sound_state==0 then ap=self.sound_indoors;aq=self.sound_indoors_length else ap=self.sound_outdoors;aq=self.sound_outdoors_length end;if ao==true or self.sound_timer:elapsed(aq)==true then self.sound_timer:restart()client.exec(string.format("play %s",ap))end;local ab=client.random_int(self.density,40)if ab>self.density then return end;for C=1,self.density do local ac=_.shared.player_camera_position+_.vector(client.random_float(-self.radius,self.radius),client.random_float(-self.radius,self.radius),client.random_float(-self.radius,self.radius)/2)local ad=_.vector(ac.x,ac.y,aa.sky_z)local ae=ad:trace_line_to(ac)if ae==1 then local ar=_:create()local ag=client.random_int(10,15)ar.origin=ac;ar.shader=self.shader:clone()ar.type="texture"ar.texture=self.texture;ar.width=ag;ar.height=ag;ar.fade_time=2;ar.landed=false;ar.landing_vector=_.vector(0,0,0)ar.floating_vector=_.vector(0,0,-2)ar.floating_timer=_.timer_tick(true,{adjust_after=client.random_int(16,32)})local ah=ar.origin:clone_offset(0,0,-32768)local ai=ar.origin:trace_line_to(ah)ar.impact_z=ar.origin.z-32768*ai+1;ar.shader.a=0;ar.target_alpha=100;ar.on_frame=function()if ar.origin.z<=ar.impact_z then if self.splash==true then ar.dead=true;ar.landed=true;local ah=ar.origin:clone_offset(0,0,-32768)local ai=ar.origin:trace_line_to(ah)local as=ar.origin:clone()as.z=as.z-32768*ai+1;local am=as:clone()am.z=aa.sky_z;if as:trace_line_to(am)~=1 then return end;local at=client.random_int(5,10)local au=client.random_int(5,15)local av=_:create()av.origin=as;av.shader=self.shader:clone()av.shader.a=100;av.type="texture"av.texture=self.texture_splash;av.width=at;av.height=au;av.on_frame=function()av:kill_invisible()av.shader:fade_out(5*_.simulation.delta)av.origin.z=av.origin.z+0.33*_.simulation.delta;av.width=av.width+8*_.simulation.delta;av.height=av.height+6*_.simulation.delta end else ar.dead=true end end;ar.shader.a=ar.shader.a+(ar.target_alpha-ar.shader.a)*0.06*_.simulation.delta;if ar.relation_camera_distance>self.radius then ar.fade_time=0.1;ar:kill()end;if ar.landed==true and ar.occluded==true then ar.dead=true;return end;ar.floating_timer:event(ar.floating_timer.adjust_after,function(aj)ar.floating_vector(client.random_float(-0.1,0.1),client.random_float(-0.1,0.1))aj:restart()end)if ar.landed==false then ar.origin=ar.origin+ar.floating_vector*self.speed*_.simulation.delta end end end end end;local aw={}local ax={__index=aw}function aw.new()return setmetatable({enabled=false,current_mode=nil,boundary_manager=a5.new(),snow=a8.new(),rain=ak.new()},ax)end;function aw:render()if self.enabled==false then return end;self.current_mode:render(self.boundary_manager.current)end;local ay=G.new("config","presets")ay:label("--------------------------------------------------")ay:label("Havoc Weather - v1.1.2")local az=ay:checkbox("Enable script")(true)local aA=ay:combobox("Weather mode",{"none","snow","rain"})("snow")local aB=ay:color_picker("Snow shader",200,200,200,100)local aC=ay:checkbox("Sticky snow")(true)local aD=ay:slider("Snow speed",1,5,{default=2,unit="x"})local aE=ay:slider("Snow density",1,40,{default=15,unit="x"})local aF=ay:slider("Snow radius",5,25,{default=15,scale=100})aA:add_children({aB,aD,aC,aE,aF},function()return aA()=="snow"end)local aG=ay:color_picker("Droplet shader",200,200,200,100)local aH=ay:checkbox("Droplet splash")(true)local aI=ay:checkbox("Thunder and lightning")(true)local aJ=ay:slider("Droplet speed",1,5,{default=4,unit="x"})local aK=ay:slider("Droplet density",1,50,{default=20,unit="x"})local aL=ay:slider("Droplet radius",5,25,{default=8,scale=100})aA:add_children({aG,aH,aI,aJ,aK,aL},function()return aA()=="rain"end)az:add_children({aA})ay:load_from_db()local aM=aw.new()if _:available()==true then aM.boundary_manager:sync()end;client.set_event_callback("level_init",function()aM.boundary_manager:sync()end)client.set_event_callback("paint",function()if _:available()==false then return end;aM:render()end)client.set_event_callback("shutdown",function()client.exec(string.format("play %s","bot/null.wav"))ay:save_to_db()end)az:add_callback(function()aM.enabled=az()client.exec(string.format("play %s","bot/null.wav"))end)aA:add_callback(function()_:wipe()client.exec(string.format("play %s","bot/null.wav"))if aA()=="none"then aM.enabled=false;return end;aM.enabled=true;aM.current_mode=aM[aA()]end)aB:add_callback(function()local W,X,Y,Z=aB()aM.snow.shader:set_r(W)aM.snow.shader:set_g(X)aM.snow.shader:set_b(Y)aM.snow.shader:set_a(Z)end)aC:add_callback(function()aM.snow.sticky=aC()end)aD:add_callback(function()aM.snow.speed=aD()end)aE:add_callback(function()aM.snow.density=aE()end)aF:add_callback(function()aM.snow.radius=aF()*100 end)aG:add_callback(function()local W,X,Y,Z=aG()aM.rain.shader:set_r(W)aM.rain.shader:set_g(X)aM.rain.shader:set_b(Y)aM.rain.shader:set_a(Z)end)aH:add_callback(function()aM.rain.splash=aH()end)aI:add_callback(function()aM.rain.storm=aI()end)aJ:add_callback(function()aM.rain.speed=aJ()end)aK:add_callback(function()aM.rain.density=aK()end)aL:add_callback(function()aM.rain.radius=aL()*100 end)
